import{S as U}from"./SelectButton-4a82c4af.js";import{_ as M,U as W}from"./index-c269a5b9.js";import{P as z}from"./PopupTitle-99dd2b07.js";import{T as q}from"./ToastPopup-a7aa5810.js";import{T as D}from"./ToastPopupHead-2616ed65.js";import{I as J}from"./check-l-da1ca767.js";import{d as K,i as j,r as V,q as w,a as Q,z as X,V as r,H as u,I as _,J as C,K as m,W as T,T as p,X as B,P as F,N as Y,Y as S,Z as E,Q as x,n as Z}from"./@vue-dca935c3.js";const G="_select_1emmm_1",R="_select__input_1emmm_5",$="_select__option_1emmm_10",ee={select:G,select__input:R,select__option:$,"select__option-list":"_select__option-list_1emmm_13","select__option-item":"_select__option-item_1emmm_18","select__option-button":"_select__option-button_1emmm_21","select__option-check":"_select__option-check_1emmm_53","select__option-item--checked":"_select__option-item--checked_1emmm_85","select--theme-sort":"_select--theme-sort_1emmm_98"},H=()=>({wrap:"",input:"",optionWrap:"",optionList:"",optionItem:"",optionButton:"",optionCheck:""}),v=()=>({value:"",text:"",disabled:!1}),te={components:{SelectButton:U,UiLayer:W,PopupTitle:z,ToastPopup:q,ToastPopupHead:D,IconCheck:J},props:{classNames:{Type:Object,default(){return H()}},buttonClassNames:{Type:Object,default:null},theme:{Type:String,default:null},option:{Type:Array,default(){return[v()]}},defaultValue:{Type:String,default:null},disabled:{Type:Boolean,default:!1},buttonTitle:{Type:String,default:null},layerTitle:{Type:String,default:null},id:{Type:String,default:null},name:{Type:String,default:null},placeholder:{Type:String,default:""},buttonId:{Type:String,default:null},openerFocusToAfterClose:{Type:Boolean,default:!0},onChange:{Type:Function,default(){return()=>{}}},onOptionClick:{Type:Function,default(){return()=>{}}},modelValue:{Type:String}},setup(t,{emit:d}){const l=t.option.map(o=>Object.assign(v(),o)),e=K({value:t.defaultValue||"",text:t.defaultValue&&l.filter(o=>o.value===t.defaultValue)[0].text||"",forcePlaceholder:!t.defaultValue}),n=j("formListItem",{}),c=j("inputBlock",{}),f=V(null),k=V(null),y=V(null),g=w(()=>{const{classNames:o}=t;return Object.assign(H(),o)}),N=w(()=>{const{option:o}=t;return o.map(i=>Object.assign(v(),i))});Q(()=>t.modelValue,o=>{a(o)});const I=()=>{f.value.open(k.value.button),n&&n.selectFocus&&n.selectFocus(!0),c&&c.selectFocus&&c.selectFocus(!0)},s=o=>{e.value=o&&o.value||"",e.text=o&&o.text||"",e.forcePlaceholder=!o,f.value.close(),Z(()=>{const i=new Event("change"),A=new Event("input");y.value.dispatchEvent(i),y.value.dispatchEvent(A),n&&n.checkInputed&&n.checkInputed()})},a=o=>{const{option:i}=t,L=i.map(P=>Object.assign(v(),P)).filter(P=>P.value===o);L.length?s(L[0]):s(null)},O=()=>{n&&n.selectFocus&&n.selectFocus(!1),c&&c.selectFocus&&c.selectFocus(!1)},h=o=>{d("update:modelValue",o.target.value)},b=o=>{const{onOptionClick:i}=t;i(o)};return X(()=>{a(t.modelValue||t.defaultValue)}),{state:e,layer:f,button:k,input:y,customClassNames:g,makeOption:N,layerOpen:I,selectOption:s,setValue:a,onAfterClosed:O,onInput:h,optionClick:b}}},oe=["id","name","disabled","value"],le=["title","disabled","onClick"],ne={key:0};function se(t,d,l,e,n,c){const f=r("SelectButton"),k=r("PopupTitle"),y=r("ToastPopupHead"),g=r("IconCheck"),N=r("ToastPopup"),I=r("UiLayer");return u(),_("div",{class:m([t.$style.select,{[t.$style[`select--theme-${l.theme}`]]:l.theme},e.customClassNames.wrap])},[C("input",{type:"hidden",ref:"input",class:m([t.$style.select__input,e.customClassNames.input]),id:l.id,name:l.name,disabled:l.disabled,value:e.state.value,onChange:d[0]||(d[0]=(...s)=>l.onChange&&l.onChange(...s)),onInput:d[1]||(d[1]=(...s)=>e.onInput&&e.onInput(...s))},null,42,oe),T(f,{ref:"button",classNames:l.buttonClassNames,disabled:l.disabled,title:l.buttonTitle,placeholder:l.placeholder,forcePlaceholder:e.state.forcePlaceholder,id:l.buttonId,theme:l.theme,onClick:e.layerOpen},{default:p(()=>[B(F(e.state.text),1)]),_:1},8,["classNames","disabled","title","placeholder","forcePlaceholder","id","theme","onClick"]),T(I,{ref:"layer",type:"toast",onAfterClosed:e.onAfterClosed,backgroundClose:!0,openerFocusToAfterClose:l.openerFocusToAfterClose},{default:p(s=>[s.display!=="none"?(u(),Y(N,{key:0},{head:p(()=>[T(y,null,{default:p(()=>[T(k,null,{default:p(()=>[B(F(l.layerTitle||"선택해 주세요"),1)]),_:1})]),_:1})]),default:p(()=>[C("div",{class:m([t.$style.select__option,e.customClassNames.optionWrap])},[C("ul",{class:m([t.$style["select__option-list"],e.customClassNames.optionList])},[(u(!0),_(S,null,E(e.makeOption,(a,O)=>(u(),_("li",{key:O,class:m([t.$style["select__option-item"],{[t.$style["select__option-item--checked"]]:e.state.value===a.value},e.customClassNames.optionItem])},[C("button",{type:"button",title:e.state.value===a.value?"선택 됨":null,class:m([t.$style["select__option-button"],e.customClassNames.optionButton]),disabled:a.disabled,onClick:h=>{e.selectOption(a),e.optionClick(h)}},[(u(!0),_(S,null,E(a.text.split(/\n/),(h,b)=>(u(),_(S,{key:b},[b>0?(u(),_("br",ne)):x("",!0),B(F(h),1)],64))),128)),C("span",{class:m([t.$style["select__option-check"],e.customClassNames.optionCheck])},[T(g)],2)],10,le)],2))),128))],2)],2)]),_:1})):x("",!0)]),_:1},8,["onAfterClosed","openerFocusToAfterClose"])],2)}const ae={$style:ee},pe=M(te,[["render",se],["__cssModules",ae]]);export{pe as B};

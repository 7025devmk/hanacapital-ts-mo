import{_ as h}from"./index-c269a5b9.js";import{i as f,d as x,q as k,S as V,z as I,o as M,a as m,y as P,H as T,N as H,T as w,L as D,K as b,O as F,r as U,n as _,V as $,I as j,W as R,J as z,P as E,R as q}from"./@vue-dca935c3.js";import{I as J}from"./dropdown-d1bbb69c.js";const B=()=>({item:""}),K={props:{tagName:{Type:String,default:"li"},classNames:{Type:Object,default(){return B()}},initialOpen:{Type:Boolean,default:!1},keyName:{Type:String,default:null},onBeforeOpened:{Type:Function,default(){return()=>{}}},onOpened:{Type:Function,default(){return()=>{}}},onAfterOpened:{Type:Function,default(){return()=>{}}},onBeforeClosed:{Type:Function,default(){return()=>{}}},onClosed:{Type:Function,default(){return()=>{}}},onAfterClosed:{Type:Function,default(){return()=>{}}}},setup(n){const c=f("uiAccordionStyleModule"),s=f("uiAccordion",{}),e=x({opened:{value:!1},key:null,layer:null,callback:{},initialOpen:{value:!1}}),a=k(()=>{const{classNames:o}=n;return Object.assign(B(),o)}),l=()=>e.layer,u=o=>{e.layer=o},t=()=>{e.layer=null},O=o=>{e.opened.value=o},A=()=>e.opened.value,v=o=>{e.opened.value||e.layer&&e.layer.open&&(s&&s.once&&s.once.value&&s.items&&s.items.forEach(y=>{y.key!==e.key&&y.close(o)}),e.layer.open(o))},r=o=>{e.opened.value&&e.layer&&e.layer.close&&e.layer.close(o)},d=o=>{e.opened.value?r(o):v(o)};return V(()=>{e.initialOpen.value=n.initialOpen,e.callback.onBeforeOpened=n.onBeforeOpened,e.callback.onOpened=n.onOpened,e.callback.onAfterOpened=n.onAfterOpened,e.callback.onBeforeClosed=n.onBeforeClosed,e.callback.onClosed=n.onClosed,e.callback.onAfterClosed=n.onAfterClosed}),I(()=>{s&&s.itemsAdd&&(e.key=s.itemsAdd({key:n.keyName,open:v,close:r,toggle:d,getOpened:A}))}),M(()=>{s&&s.itemsRemove&&s.itemsRemove(e.key)}),m(()=>n.initialOpen,o=>{e.initialOpen.value=o}),m(()=>n.onBeforeOpened,o=>{e.callback.onBeforeOpened=o}),m(()=>n.onOpened,o=>{e.callback.onOpened=o}),m(()=>n.onAfterOpened,o=>{e.callback.onAfterOpened=o}),m(()=>n.onBeforeClosed,o=>{e.callback.onBeforeClosed=o}),m(()=>n.onClosed,o=>{e.callback.onClosed=o}),m(()=>n.onAfterClosed,o=>{e.callback.onAfterClosed=o}),P("uiAccordionItem",{opened:e.opened,initialOpen:e.initialOpen,getLayer:l,setLayer:u,clearLayer:t,setOpened:O,open:v,close:r,toggle:d,callback:e.callback}),{uiAccordion:s,styleModule:c,state:e,customClassNames:a,open:v,close:r,toggle:d}}};function W(n,c,s,e,a,l){return T(),H(F(s.tagName),{class:b([e.styleModule.accordion__item,{[e.uiAccordion.openedClassName]:e.state.opened.value},e.customClassNames.item])},{default:w(()=>[D(n.$slots,"default",{open:e.open,close:e.close,toggle:e.toggle,opened:e.state.opened.value})]),_:3},8,["class"])}const oe=h(K,[["render",W]]),S=()=>({layer:""}),i=(n,c)=>{n&&n.callback&&n.callback[c]&&n.callback[c]()},G={props:{tagName:{Type:String,default:"div"},classNames:{Type:Object,default(){return S()}}},setup(n){let c=null,s=!1;const e=f("uiAccordionStyleModule"),a=f("uiAccordion",{}),l=f("uiAccordionItem",{}),u=x({opened:!1}),t=U(null),O=k(()=>{const{classNames:r}=n;return Object.assign(S(),r)}),A=r=>{if(u.opened)return;const d=(()=>typeof r=="number"?r:a&&a.defaultSpeed&&a.defaultSpeed.value?a.defaultSpeed.value:0)(),{openedClassName:o}=a,y=getComputedStyle(t.value);i(a,"onBeforeOpened"),i(l,"onBeforeOpened"),clearTimeout(c);let p=null;y.getPropertyValue("display")!=="none"&&(p=t.value.offsetHeight),t.value.style.transitionDuration="0ms",t.value.style.height=null,t.value.classList.add(o);const g=y.getPropertyValue("display"),N=t.value.offsetHeight;t.value.classList.remove(o),t.value.style.display=g,p||(p=t.value.offsetHeight),p!==N&&(t.value.style.height=`${p}px`,t.value.style.overflow="hidden",u.opened=!0,l&&l.setOpened&&l.setOpened(!0),_(()=>{c=setTimeout(()=>{i(a,"onOpened"),i(l,"onOpened"),t.value.style.transitionDuration=`${d}ms`,t.value.style.height=`${N}px`,clearTimeout(c),c=setTimeout(()=>{t.value.style.display=null,t.value.style.height=null,t.value.style.overflow=null,i(a,"onAfterOpened"),i(l,"onAfterOpened"),clearTimeout(c)},d)},0)}))},v=r=>{if(!u.opened)return;const d=(()=>typeof r=="number"?r:a&&a.defaultSpeed&&a.defaultSpeed.value?a.defaultSpeed.value:0)(),{openedClassName:o}=a,y=getComputedStyle(t.value);i(a,"onBeforeClosed"),i(l,"onBeforeClosed"),clearTimeout(c);const p=y.getPropertyValue("display"),C=t.value.offsetHeight;t.value.style.transitionDuration="0ms",t.value.style.height=null,t.value.style.display=p,t.value.classList.remove(o);const g=t.value.offsetHeight;t.value.classList.add(o),C!==g&&(t.value.style.height=`${C}px`,t.value.style.overflow="hidden",u.opened=!1,l&&l.setOpened&&l.setOpened(!1),_(()=>{c=setTimeout(()=>{i(a,"onClosed"),i(l,"onClosed"),t.value.style.transitionDuration=`${d}ms`,t.value.style.height=`${g}px`,clearTimeout(c),c=setTimeout(()=>{t.value.style.display=null,t.value.style.height=null,t.value.style.overflow=null,i(a,"onAfterClosed"),i(l,"onAfterClosed"),clearTimeout(c)},d)},0)}))};return I(()=>{l&&l.getLayer&&l.setLayer&&(l.getLayer()||(l.setLayer({open:A,close:v}),s=!0,l.initialOpen&&l.initialOpen.value&&(u.opened=!0,l.setOpened&&l.setOpened(!0))))}),M(()=>{s&&l&&l.clearLayer&&l.clearLayer()}),{state:u,uiAccordion:a,styleModule:e,layer:t,customClassNames:O}}};function Q(n,c,s,e,a,l){return T(),H(F(s.tagName),{ref:"layer",class:b([e.styleModule.accordion__layer,{[e.uiAccordion.openedClassName]:e.state.opened},e.customClassNames.layer])},{default:w(()=>[D(n.$slots,"default")]),_:3},8,["class"])}const ne=h(G,[["render",Q]]),L=()=>({button:"",text:""}),X={inheritAttrs:!1,components:{IconArrow:J},props:{classNames:{Type:Object,default(){return L()}},toggleAction:{Type:Boolean,default:!0},text:{Type:String,default:"하위 내용"},openText:{Type:String,default:"펼치기"},closeText:{Type:String,default:"접기"}},setup(n){const c=f("uiAccordionStyleModule"),s=f("uiAccordion",{}),e=f("uiAccordionItem",{}),a=k(()=>{const{classNames:l}=n;return Object.assign(L(),l)});return{styleModule:c,customClassNames:a,uiAccordion:s,uiAccordionItem:e}}};function Y(n,c,s,e,a,l){const u=$("IconArrow");return T(),j("button",q(n.$attrs,{type:"button",class:[e.styleModule.accordion__opener,{[e.uiAccordion.openedClassName]:e.uiAccordionItem.opened.value},e.customClassNames.button],onClick:c[0]||(c[0]=t=>s.toggleAction&&e.uiAccordionItem.toggle())}),[R(u),z("span",{class:b([e.styleModule["accordion__opener-text"],e.customClassNames.text])}," 하위 내용 "+E(e.uiAccordionItem.opened.value?"접기":"펼치기"),3)],16)}const le=h(X,[["render",Y]]);export{oe as U,ne as a,le as b};
